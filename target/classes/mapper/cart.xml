<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.example.shop.repository.CartRepository">
 	
 	<select id="findAll" resultType="com.example.shop.model.Cart">
 		SELECT c.id ,p.id as productId, p.filePath, p.productNm, p.price, c.cnt 
 		FROM cart c JOIN product p 
 		ON c.productId=p.id 
 		WHERE c.insId=#{insId}
 	</select>
 	
 	<insert id="save">
 		INSERT INTO cart VALUES(null,#{productId},#{cnt},#{insId},now(),null)
 	</insert>
 	
 	<delete id="delete">
 		DELETE FROM cart WHERE id = #{id}
 	</delete>
 	
 	
 </mapper>